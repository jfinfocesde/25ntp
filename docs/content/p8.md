#  Semana 8 - Exploraci칩n de Datos con Pandas y Streamlit

#### Objetivo de la Clase
En esta clase, los estudiantes aprender치n a inspeccionar y resumir datos utilizando m칠todos b치sicos de Pandas como `.head()`, `.tail()`, `.info()`, `.describe()`, adem치s de realizar filtrado b치sico de filas y columnas. Tambi칠n integraremos estas funcionalidades en una aplicaci칩n interactiva con Streamlit para visualizar estad칤sticas descriptivas.

---

### Preparaci칩n: Datasets de Ejemplo

#### CSV para Ejemplos (20 registros) - Tema: Registros de Animales en un Refugio
Creamos un archivo CSV ficticio con datos de animales registrados en un refugio ficticio. La columna `fecha_ingreso` se reemplaza por `estado_salud`. Guardaremos este archivo como `refugio_animales.csv`.

```csv
id,especie,edad,peso,estado_salud,adoptado
1,Perro,3,15.5,Saludable,S칤
2,Gato,1,4.2,En tratamiento,No
3,Perro,5,20.0,Saludable,S칤
4,Conejo,2,1.8,Recuper치ndose,No
5,Perro,4,18.0,Saludable,S칤
6,Gato,2,5.0,En tratamiento,No
7,Perro,6,22.5,Saludable,S칤
8,Gato,3,6.1,Recuper치ndose,No
9,Conejo,1,1.5,Saludable,S칤
10,Perro,2,14.0,En tratamiento,No
11,Gato,4,5.8,Saludable,S칤
12,Perro,7,25.0,Recuper치ndose,No
13,Conejo,3,2.0,Saludable,S칤
14,Perro,1,12.0,En tratamiento,No
15,Gato,5,6.5,Saludable,S칤
16,Perro,3,16.0,Recuper치ndose,No
17,Gato,2,4.8,Saludable,S칤
18,Conejo,4,2.2,En tratamiento,No
19,Perro,5,19.5,Saludable,S칤
20,Gato,1,4.0,Recuper치ndose,No
```

---

#### 1. Introducci칩n a la Exploraci칩n de Datos
- **Concepto**: La exploraci칩n de datos es el primer paso para entender un dataset. Nos permite conocer su estructura, identificar patrones o problemas (como datos faltantes) y prepararnos para an치lisis m치s avanzados.
- **Herramientas de Pandas**:
  - `.head()`: Muestra las primeras filas.
  - `.tail()`: Muestra las 칰ltimas filas.
  - `.info()`: Resumen t칠cnico (tipos de datos, valores nulos).
  - `.describe()`: Estad칤sticas descriptivas de columnas num칠ricas.
- **Prop칩sito**: Obtener una visi칩n general del dataset.

#### 2. M칠todos B치sicos de Exploraci칩n
Usaremos el dataset `refugio_animales.csv` para los ejemplos.

```python
import pandas as pd
import streamlit as st

# Cargar el dataset
df = pd.read_csv("refugio_animales.csv")

# Mostrar las primeras 5 filas
st.subheader("Primeras 5 filas del dataset")
st.write(df.head())

# Mostrar las 칰ltimas 3 filas
st.subheader("칔ltimas 3 filas del dataset")
st.write(df.tail(3))

# Informaci칩n general del dataset
st.subheader("Informaci칩n del dataset")
st.text(df.info())  # Nota: .info() imprime en consola, usamos st.text para verlo en Streamlit

# Estad칤sticas descriptivas
st.subheader("Estad칤sticas descriptivas")
st.write(df.describe())
```

**Explicaci칩n**:

- **`.head()`**: Muestra las primeras 5 filas por defecto (ajustable, ej. `df.head(3)`). Nos da una idea inicial de los datos.
- **`.tail()`**: Muestra las 칰ltimas filas (ej. `df.tail(3)`). 칔til para verificar el final del dataset.
- **`.info()`**: Proporciona:
  - N칰mero de filas (20) y columnas (6).
  - Tipos de datos: `int64` para `id` y `edad`, `float64` para `peso`, `object` para `especie`, `estado_salud` y `adoptado`.
  - Valores no nulos (en este caso, no hay nulos).
- **`.describe()`**: Calcula estad칤sticas para columnas num칠ricas (`edad` y `peso`):
  - Conteo, promedio, desviaci칩n est치ndar, m칤nimo, m치ximo y percentiles (25%, 50%, 75%).
  - No incluye columnas categ칩ricas como `estado_salud`.

**Ejemplo en vivo**:

- Al ejecutar el c칩digo en Streamlit:
  - `.head()` muestra un perro saludable de 3 a침os, un gato en tratamiento de 1 a침o, etc.
  - `.tail(3)` muestra un gato en recuperaci칩n de 1 a침o, entre otros.
  - `.info()` confirma 20 entradas, tipos de datos mixtos y ausencia de nulos.
  - `.describe()` indica que la edad promedio es ~3 a침os y el peso promedio es ~10.5 kg, con rangos de 1-7 a침os y 1.5-25 kg.

#### 3. Filtrado B치sico de Filas y Columnas

- **Selecci칩n de columnas**:
  - Una columna: `df['especie']` (devuelve una Series).
  - Varias columnas: `df[['especie', 'edad']]` (devuelve un DataFrame).
- **Filtrado de filas**:
  - Por 칤ndice: `df.iloc[0:5]` (primeras 5 filas).
  - Por condici칩n: `df[df['edad'] > 3]` (animales mayores de 3 a침os).

**Ejemplo en Streamlit**:
```python
# Selecci칩n de columnas
st.subheader("Selecci칩n de columnas: Especie y Edad")
st.write(df[['especie', 'edad']])

# Filtrado de filas por edad mayor a 3
st.subheader("Animales mayores de 3 a침os")
st.write(df[df['edad'] > 3])
```

**Explicaci칩n**:

- **Selecci칩n de columnas**: Usamos corchetes `[]`. Una columna devuelve una Series, varias columnas un DataFrame.
- **Filtrado por condici칩n**: `df['edad'] > 3` crea una Serie booleana que filtra el DataFrame.
- **Encadenamiento**: Combinamos filtrado y selecci칩n para mostrar solo `especie` y `peso` de animales mayores de 3 a침os.

**Ejemplo en vivo**:

- `df[df['edad'] > 3]` muestra:
  - Perro de 5 a침os, 20.0 kg (id 3).
  - Perro de 4 a침os, 18.0 kg (id 5).
  - Gato de 5 a침os, 6.5 kg (id 15).

#### 4. Integraci칩n Interactiva en Streamlit
Hacemos que el usuario elija qu칠 explorar de forma interactiva:

```python
# Men칰 interactivo
opcion = st.selectbox("쯈u칠 quieres explorar?", 
                      ["Primeras filas", "Estad칤sticas", "Filtrar por edad"])

if opcion == "Primeras filas":
    st.write(df.head())
elif opcion == "Estad칤sticas":
    st.write(df.describe())
elif opcion == "Filtrar por edad":
    edad_min = st.slider("Edad m칤nima", 0, 7, 2)
    st.write(df[df['edad'] >= edad_min])
```

**Explicaci칩n**:
- **`st.selectbox()`**: Men칰 desplegable con tres opciones.
- **`st.slider()`**: Permite elegir una edad m칤nima (rango de 0 a 7, valor inicial en 2).
- **L칩gica condicional**: Seg칰n la opci칩n:
  - "Primeras filas" muestra `.head()`.
  - "Estad칤sticas" muestra `.describe()`.
  - "Filtrar por edad" muestra animales con edad mayor o igual al valor del slider.

**Ejemplo en vivo**:
- Si el usuario selecciona "Filtrar por edad" y ajusta el slider a 4, ver치:
  - Perro de 4 a침os, 18.0 kg (id 5).
  - Perro de 7 a침os, 25.0 kg (id 12).
  - Gato de 5 a침os, 6.5 kg (id 15).

---

### Actividad Pr치ctica

Esta actividad debe resolverse en el archivo 游늷_M2 Actvidad 2.py del proyecto integrador.


#### CSV para la Actividad (50 registros) - Tema: Estudiantes en Colombia
Este dataset permanece igual al proporcionado anteriormente (`estudiantes_colombia.csv`). Aqu칤 est치 un extracto para referencia:

```csv
id,nombre,edad,ciudad,promedio,asistencia
1,Juan P칠rez,17,Bogot치,4.5,0.95
2,Mar칤a G칩mez,16,Medell칤n,3.8,0.88
3,Carlos L칩pez,18,Cali,4.2,0.92
4,Ana Mart칤nez,15,Barranquilla,3.5,0.85
5,Pedro S치nchez,19,Cartagena,4.8,0.97
6,Laura Rodr칤guez,17,Bogot치,4.0,0.90
7,Diego Torres,16,Medell칤n,3.9,0.87
8,Sof칤a D칤az,18,Cali,4.3,0.93
9,Andr칠s Herrera,15,Barranquilla,3.7,0.86
10,Valentina Ruiz,19,Cartagena,4.6,0.96
11,Jorge Ram칤rez,17,Bogot치,4.1,0.91
12,Camila Vargas,16,Medell칤n,3.6,0.89
13,Mateo Castro,18,Cali,4.4,0.94
14,Luc칤a Morales,15,Barranquilla,3.4,0.84
15,Santiago Ortiz,19,Cartagena,4.7,0.98
16,Isabella Pe침a,17,Bogot치,4.2,0.92
17,Sebasti치n Gil,16,Medell칤n,3.8,0.88
18,Paula Rinc칩n,18,Cali,4.5,0.95
19,Felipe Arias,15,Barranquilla,3.9,0.87
20,Daniela Mu침oz,19,Cartagena,4.9,0.99
21,Juli치n Vega,17,Bogot치,4.0,0.90
22,Natalia Cordero,16,Medell칤n,3.7,0.86
23,Miguel Salazar,18,Cali,4.3,0.93
24,Carolina Pineda,15,Barranquilla,3.5,0.85
25,Tom치s Mendoza,19,Cartagena,4.6,0.96
26,Clara Ospina,17,Bogot치,4.1,0.91
27,Luis Escobar,16,Medell칤n,3.8,0.88
28,Emma Rojas,18,Cali,4.4,0.94
29,Gabriel Duarte,15,Barranquilla,3.6,0.87
30,Valeria Sierra,19,Cartagena,4.8,0.97
31,David Meza,17,Bogot치,4.2,0.92
32,Renata Londo침o,16,Medell칤n,3.9,0.89
33,Nicol치s Bravo,18,Cali,4.5,0.95
34,Mariana Tovar,15,Barranquilla,3.7,0.86
35,Juan Camilo Zuluaga,19,Cartagena,4.7,0.98
36,Sara Berm칰dez,17,Bogot치,4.0,0.90
37,H칠ctor Parra,16,Medell칤n,3.8,0.88
38,Lina Agudelo,18,Cali,4.3,0.93
39,Sim칩n Restrepo,15,Barranquilla,3.5,0.85
40,Andrea Hoyos,19,Cartagena,4.9,0.99
41,Esteban Quintero,17,Bogot치,4.1,0.91
42,M칩nica Cano,16,Medell칤n,3.6,0.89
43,Javier Paredes,18,Cali,4.4,0.94
44,Patricia Le칩n,15,Barranquilla,3.9,0.87
45,Leonardo Giraldo,19,Cartagena,4.6,0.96
46,Beatriz Uribe,17,Bogot치,4.2,0.92
47,Rafael N칰침ez,16,Medell칤n,3.7,0.86
48,Claudia Zapata,18,Cali,4.5,0.95
49,Iv치n C칩rdoba,15,Barranquilla,3.8,0.88
50,Angela Florez,19,Cartagena,4.8,0.97
```

**Instrucciones**: Usando el dataset `estudiantes_colombia.csv`, crea una aplicaci칩n en Streamlit que permita al usuario:

1. Ver las primeras 5 filas y las 칰ltimas 5 filas del dataset.
2. Mostrar un resumen con `.info()` y `.describe()`.
3. Seleccionar columnas espec칤ficas (ej. "nombre", "edad", "promedio") para mostrarlas.
4. Filtrar estudiantes con promedio mayor a un valor definido por el usuario (usando un slider).


